function cacher_afficher_adhesion(){0==show_demande?($("#section_demande").css("display","block"),$("#show_demande").addClass("hidden"),$("#hide_demande").removeClass("hidden"),show_demande=!0):(show_demande=!1,$("#section_demande").css("display","none"),$("#hide_demande").addClass("hidden"),$("#show_demande").removeClass("hidden"))}function cacher_afficher_tab_resultat(){0==show_hide_tab_resul?($("#div_create_ad").show(),show_hide_tab_resul=!0):($("#div_create_ad").hide(),show_hide_tab_resul=!1)}function accepter(e,a){$("#ConfirmAction").modal("toggle"),$.ajax({url:"/group/valid_adhesion_group",type:"post",dataType:"json",data:{id_user:e,id_group:a,_token:_token},success:function(a){var s=a;"success"===s.type?($("#tab_demande tr").length>1?$("#tr-user-"+e).hide():($("#section_demande").hide(),$("#hide_demande").hide()),$("#message_adhesion").html('<div class="alert alert-success fade in"><button data-dismiss="alert" class="close close-sm" type="button"><i class="icon-remove"></i></button><strong>'+s.message+"</strong> </div>")):"error"===s.type&&$("#message_adhesion").html('<div class="alert alert-block alert-danger fade in"><button data-dismiss="alert" class="close close-sm" type="button"><i class="icon-remove"></i></button><strong>'+s.message+"</strong> </div>")},error:function(e){alert(e),alert("erreur lors de la validation. la valeur est : "+e),$("#message_adhesion").html('<div class="alert alert-block alert-danger fade in"><button data-dismiss="alert" class="close close-sm" type="button"><i class="icon-remove"></i></button><strong>Erreur lors de la validation de la demande. <br> erreur =</strong> '+e+"</div>")}})}function filterGlobal(){$("#table_resultats").DataTable().search($("#global_filter").val(),$("#global_regex").prop("checked"),$("#global_smart").prop("checked")).draw()}function filterColumn(e){$("#table_resultats").DataTable().column(e).search($("#col"+e+"_filter").val(),$("#col"+e+"_regex").prop("checked"),$("#col"+e+"_smart").prop("checked")).draw()}var show_demande=!1;$("#show_demande").click(cacher_afficher_adhesion),$("#hide_demande").click(cacher_afficher_adhesion),$("#show_create_ad").click(cacher_afficher_tab_resultat);var show_hide_tab_resul=!1;$(".refuse-btn").click(function(){var e=this.id;0!=e.indexOf("btn-refuse-",0)&&alert("les informations sont incorrectes");var a=e.substring(11,e.length);isNaN(a)&&alert("informations incorrectes");var s=group.id,t=$("#td-name-"+a).text();return!!confirm("Nous allons procéder a la suppression de la demande du membre "+t)&&void $.ajax({url:"/group/del_adhesion_group",type:"post",dataType:"json",data:{id_user:a,id_group:s,_token:_token},success:function(e){var s=e;"success"===s.type?(alert("le message est : "+s.message),$("#tab_demande tr").length>1?$("#tr-user-"+a).hide():($("#section_demande").hide(),$("#hide_demande").hide()),$("#message_adhesion").html('<div class="alert alert-success fade in"><button data-dismiss="alert" class="close close-sm" type="button"><i class="icon-remove"></i></button><strong>'+s.message+"</strong> </div>")):"error"===s.type&&$("#message_adhesion").html('<div class="alert alert-block alert-danger fade in"><button data-dismiss="alert" class="close close-sm" type="button"><i class="icon-remove"></i></button><strong>'+s.message+"</strong> </div>")},error:function(e){alert(e),alert("erreur lors de la suppression."),$("#message_adhesion").html('<div class="alert alert-block alert-danger fade in"><button data-dismiss="alert" class="close close-sm" type="button"><i class="icon-remove"></i></button><strong>Erreur lors de la suppression de la demande. <br> erreur =</strong> '+e+"</div>")}})}),$(".send-btn").click(function(){var e=this.id;if(0!=e.indexOf("btn-accept-",0))return 0;var a=e.substring(11,e.length);isNaN(a);var s=group.id,t=$("#td-desc-"+a).text(),l=$("#td-name-"+a).text(),n=$("#td-image-"+a).html();$(".modal-title").html('<i class="icon_plus_alt2"></i>'+group.name+" >> Valider l'adhésion"),$(".modal-body").html("<h4>"+l+"</h4><br> <p style='float: left; width: 150px; height: auto; margin-right: 20px;'>"+n+" </p><p style='text-align: justify;'>"+t+" </p><p style='text-align: center;'> <br> <button id='btn-valid-adh-"+a+"' class='btn btn-primary btn-valid-adhesion' onclick='accepter("+a+","+s+")' style='margin-right: 50px;'>Accepter l'adhésion du membre </button> <button class='btn btn-success' onclick=\"$('#ConfirmAction').modal('toggle');\">Annuler</button> </p>")});var bool_check_even=!1;$("#p_date_even").hide(),$("#checkbox-even").click(function(){0==bool_check_even?($("#p_date_even").show(),bool_check_even=!0):($("#p_date_even").hide(),bool_check_even=!1)});var bool_file1=!1,bool_file2=!1,bool_file3=!1;$("#del_file1").click(function(){$("#file1").val(""),$("#file1").change()}),$("#del_file2").click(function(){$("#file2").val(""),$("#file2").change()}),$("#del_file3").click(function(){$("#file3").val(""),$("#file3").change()}),$("#file1").change(function(){""!=$("#file1").val()?($("#file1").removeClass("btn-primary").addClass("btn-success"),0==bool_file2&&$("#span_file2").show()):($("#file1").removeClass("btn-success").addClass("btn-primary"),""==$("#file2").val()&&$("#span_file2").hide(),""==$("#file3").val()&&$("#span_file3").hide())}),$("#file2").change(function(){""!=$("#file2").val()?($("#file2").removeClass("btn-primary").addClass("btn-success"),$("#span_file3").show()):($("#file2").removeClass("btn-success").addClass("btn-primary"),""==$("#file3").val()&&$("#span_file3").hide(),""==$("#file1").val()&&$("#span_file2").hide())}),$("#file3").change(function(){""==$("#file3").val()?($("#file3").removeClass("btn-success").addClass("btn-primary"),""==$("#file2").val()&&$("#span_file3").hide()):$("#file3").removeClass("btn-primary").addClass("btn-success")});var form_create_ad=null;$("#create_ad").on("submit",function(e){e.preventDefault(),form_create_ad=this;var a=new FormData(this);$.ajaxSetup({headers:{"X-CSRF-Token":$('input[name="_token"]').val()}}),$("#btn-create-ads").addClass("disabled"),$.ajax({url:form_create_ad.action,type:form_create_ad.method,contentType:!1,processData:!1,dataType:"json",data:a,success:function(e){"success"===e.type?($("#message").removeClass("alert-danger").addClass("alert-success"),$("#file1").val(""),$("#file1").removeClass("btn-success").addClass("btn-primary"),$("#file1").change(),$("#file2").val(""),$("#file2").removeClass("btn-success").addClass("btn-primary"),$("#file2").change(),$("#file3").val(""),$("#file3").removeClass("btn-success").addClass("btn-primary"),$("#file3").change(),$("#description_create_ad").val(""),$("#message").html("<strong>"+e.message+"</strong>"),$("#message").show(),$("#btn-create-ads").removeClass("disabled").addClass("enabled")):($("#message").removeClass("alert-success").addClass("alert-danger"),$("#message").html("<strong>"+e.message+"</strong>"),$("#message").show(),$("#btn-create-ads").removeClass("disabled").addClass("enabled"))},error:function(e){$("#message").removeClass("alert-success").addClass("alert-danger"),$("#message").html("<strong>"+e+"</strong>"),$("#btn-create-ads").removeClass("disabled").addClass("enabled")}})}),$(document).ready(function(){$("#table_resultats").DataTable(),$("input.global_filter").on("keyup click",function(){filterGlobal()}),$("input.column_filter").on("keyup click",function(){filterColumn($(this).parents("tr").attr("data-column"))})}),$(document).ready(function(){$("#table_resultats").DataTable(),$("input.global_filter").on("keyup click",function(){filterGlobal()}),$("input.column_filter").on("keyup click",function(){filterColumn($(this).parents("tr").attr("data-column"))})});