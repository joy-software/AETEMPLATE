{"version":3,"sources":["admin.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"admin.js","sourcesContent":["\r\n$(\".btn-del\").click(function () {\r\n\r\n    var chaine = this.id;\r\n    if(chaine.indexOf(\"group\",0) != 0){\r\n        alert(\"les informations sont incorrectes\");\r\n        return false;\r\n    }\r\n    var id_group = chaine.substring(5,chaine.length);\r\n    if(isNaN(id_group)){\r\n        alert(\"informations incorrectes\");\r\n        return false;\r\n    }\r\n\r\n    if(!confirm(\"Vous êtes sur le point de supprimer le groupe \"+ $(\"#td_\"+id_group).html())){\r\n        return false;\r\n    }\r\n\r\n    $(\".btn-del\").addClass(\"disabled\");\r\n\r\n    $.ajaxSetup(\r\n        {\r\n            headers:\r\n                {\r\n                    'X-CSRF-Token': $('input[name=\"_token\"]').val()\r\n                }\r\n        });\r\n\r\n    $.ajax({\r\n        url: '/admin/del_group',\r\n        type: \"post\",\r\n        dataType: 'json',\r\n        data: {'id_group': id_group, '_token': _token},\r\n        success: function(data){\r\n            $(\"#message\").html(data.message);\r\n            $(\".btn-del\").removeClass(\"disabled\");\r\n\r\n\r\n            if(data.type == 'error'){\r\n                $(\"#tr_\"+id_group).show();\r\n            }\r\n        },\r\n        error : function (erreur) {\r\n            $(\"#message\").html(erreur);\r\n            $(\".btn-del\").removeClass(\"disabled\");\r\n        }\r\n\r\n    });\r\n});\r\n\r\n\r\n\r\n\r\n$(\".btn-suspen\").click(function () {\r\n\r\n    var chaine = this.id;\r\n\r\n    if(chaine.indexOf(\"user_suspen_\",0) != 0){\r\n        alert(\"les informations sont incorrectes\");\r\n        return false;\r\n    }\r\n    var id_user = chaine.substring(12,chaine.length);\r\n    if(isNaN(id_user)){\r\n        alert(\"informations incorrectes\");\r\n        return false;\r\n    }\r\n\r\n    if(!confirm(\"Vous êtes sur le point de suspendre \"+ $(\"#td_\"+id_user).html() + \". Cliquer sur OK pour confirmer la suppression.\")){\r\n        return false;\r\n    }\r\n\r\n    $(\".btn-suspen\").addClass(\"disabled\");\r\n\r\n    var id_group = $(\"#id_group\").val();\r\n\r\n    $.ajaxSetup(\r\n        {\r\n            headers:\r\n                {\r\n                    'X-CSRF-Token': $('input[name=\"_token\"]').val()\r\n                }\r\n        });\r\n\r\n    $.ajax({\r\n        url: '/admin/post_suspen_user',\r\n        type: \"post\",\r\n        dataType: 'json',\r\n        data: {'id_user': id_user, 'id_group' : id_group, '_token': _token},\r\n        success: function(data){\r\n            $(\"#message\").html(data.message);\r\n            $(\".btn-suspen\").removeClass(\"disabled\");\r\n            $(\"#tr_\"+id_user).hide();\r\n        },\r\n        error : function (erreur) {\r\n            $(\"#message\").html(erreur);\r\n            $(\".btn-suspen\").removeClass(\"disabled\");\r\n        }\r\n\r\n    });\r\n});\r\n\r\n\r\n\r\n\r\n\r\n$(\".btn-admin\").click(function () {\r\n\r\n    var chaine = this.id;\r\n\r\n    if(chaine.indexOf(\"user_admin_\",0) != 0){\r\n        alert(\"les informations sont incorrectes\");\r\n        return false;\r\n    }\r\n    var id_user = chaine.substring(11,chaine.length);\r\n    if(isNaN(id_user)){\r\n        alert(\"informations incorrectes\");\r\n        return false;\r\n    }\r\n\r\n    if(!confirm(\"Vous êtes d'ajouter \"+ $(\"#td_\"+id_user).html() + \" comme 'Administrateur' de ce groupe. Cliquer sur OK pour confirmer.\")){\r\n        return false;\r\n    }\r\n\r\n    $(\".btn-admin\").addClass(\"disabled\");\r\n\r\n    var id_group = $(\"#id_group\").val();\r\n\r\n    $.ajaxSetup(\r\n        {\r\n            headers:\r\n                {\r\n                    'X-CSRF-Token': $('input[name=\"_token\"]').val()\r\n                }\r\n        });\r\n\r\n    $.ajax({\r\n        url: '/admin/post_admin_user',\r\n        type: \"post\",\r\n        dataType: 'json',\r\n        data: {'id_user': id_user, 'id_group' : id_group, '_token': _token},\r\n        success: function(data){\r\n            $(\"#message\").html(data.message);\r\n            $(\".btn-admin\").removeClass(\"disabled\");\r\n            //$(\"#tr_\"+id_user).hide();\r\n        },\r\n        error : function (erreur) {\r\n            $(\"#message\").html(erreur);\r\n            $(\".btn-admin\").removeClass(\"disabled\");\r\n        }\r\n\r\n    });\r\n});\r\n\r\n\r\n\r\n\r\n$(\".set_compta\").click(function (event) {\r\n\r\n    event.preventDefault();\r\n\r\n    var chaine = this.id;\r\n\r\n    if(chaine.indexOf(\"set_compta_\",0) != 0){\r\n        alert(\"les informations sont incorrectes\");\r\n        return false;\r\n    }\r\n    var id_user = chaine.substring(11,chaine.length);\r\n    if(isNaN(id_user)){\r\n        alert(\"informations incorrectes\");\r\n        return false;\r\n    }\r\n\r\n    if(!confirm(\"Vous êtes sur le point d'ajouter le membre \"+ $(\"#td_\"+id_user).html() + \" comme 'Comptable' de l'association. Cliquer sur OK pour confirmer.\")){\r\n        return false;\r\n    }\r\n\r\n    $(\".set_compta\").addClass(\"disabled\");\r\n\r\n    //var id_group = $(\"#id_group\").val();\r\n\r\n    $.ajaxSetup(\r\n        {\r\n            headers:\r\n                {\r\n                    'X-CSRF-Token': $('input[name=\"_token\"]').val()\r\n                }\r\n        });\r\n\r\n    $.ajax({\r\n        url: '/admin/post_role_compta',\r\n        type: \"post\",\r\n        dataType: 'json',\r\n        data: {'id_user': id_user, '_token': _token},\r\n        success: function(data){\r\n            $(\"#message\").html(data.message);\r\n            $(\".set_compta\").removeClass(\"disabled\");\r\n            //$(\"#tr_\"+id_user).hide();\r\n        },\r\n        error : function (erreur) {\r\n            $(\"#message\").html(erreur);\r\n            $(\".set_compta\").removeClass(\"disabled\");\r\n        }\r\n\r\n    });\r\n});\r\n\r\n\r\n$(\".remove_compta\").click(function (event) {\r\n\r\n    event.preventDefault();\r\n\r\n    var chaine = this.id;\r\n\r\n    if(chaine.indexOf(\"remove_compta_\",0) != 0){\r\n        alert(\"les informations sont incorrectes\");\r\n        return false;\r\n    }\r\n    var id_user = chaine.substring(14,chaine.length);\r\n    if(isNaN(id_user)){\r\n        alert(\"informations incorrectes\");\r\n        return false;\r\n    }\r\n\r\n    if(!confirm(\"Vous êtes sur le point de retirer les droits de comptabilités au membre \"+ $('#td_'+id_user).html() + \". Cliquer sur OK pour confirmer.\")){\r\n        return false;\r\n    }\r\n\r\n    $(\".remove_compta\").addClass(\"disabled\");\r\n\r\n    //var id_group = $(\"#id_group\").val();\r\n\r\n    $.ajaxSetup(\r\n        {\r\n            headers:\r\n                {\r\n                    'X-CSRF-Token': $('input[name=\"_token\"]').val()\r\n                }\r\n        });\r\n\r\n    $.ajax({\r\n        url: '/admin/post_remove_compta',\r\n        type: \"post\",\r\n        dataType: 'json',\r\n        data: {'id_user': id_user, '_token': _token},\r\n        success: function(data){\r\n            $(\"#message\").html(data.message);\r\n            $(\".remove_compta\").removeClass(\"disabled\");\r\n            //$(\"#tr_\"+id_user).hide();\r\n        },\r\n        error : function (erreur) {\r\n            $(\"#message\").html(erreur);\r\n            $(\".set_compta\").removeClass(\"disabled\");\r\n        }\r\n\r\n    });\r\n});\r\n\r\n\r\n\r\n$(\".set_admin\").click(function (event) {\r\n\r\n    event.preventDefault();\r\n\r\n    var chaine = this.id;\r\n\r\n    if(chaine.indexOf(\"set_admin_\",0) != 0){\r\n        alert(\"les informations sont incorrectes\");\r\n        return false;\r\n    }\r\n    var id_user = chaine.substring(10,chaine.length);\r\n    if(isNaN(id_user)){\r\n        alert(\"informations incorrectes\");\r\n        return false;\r\n    }\r\n\r\n    if(!confirm(\"Vous êtes sur le point d'attribuer le droit de comptabilités au membre \"+ $('#td_'+id_user).html() + \". Cliquer sur OK pour confirmer.\")){\r\n        return false;\r\n    }\r\n\r\n    $(\".set_admin\").addClass(\"disabled\");\r\n\r\n    //var id_group = $(\"#id_group\").val();\r\n\r\n    $.ajaxSetup(\r\n        {\r\n            headers:\r\n                {\r\n                    'X-CSRF-Token': $('input[name=\"_token\"]').val()\r\n                }\r\n        });\r\n\r\n    $.ajax({\r\n        url: '/admin/post_role_admin',\r\n        type: \"post\",\r\n        dataType: 'json',\r\n        data: {'id_user': id_user, '_token': _token},\r\n        success: function(data){\r\n            $(\"#message\").html(data.message);\r\n            $(\".set_admin\").removeClass(\"disabled\");\r\n            //$(\"#tr_\"+id_user).hide();\r\n        },\r\n        error : function (erreur) {\r\n            $(\"#message\").html(erreur);\r\n            $(\".set_admin\").removeClass(\"disabled\");\r\n        }\r\n\r\n    });\r\n});"]}