{"version":3,"sources":["header.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"header.js","sourcesContent":["/**\r\n * Created by hp on 18/04/2017.\r\n */\r\n\r\n$('#alert_notificatoin_bar.dropdown').on('show.bs.dropdown', function(e){\r\n    $('.dropdown-menu').removeClass('invisible');\r\n\r\n    $(this).find('.dropdown-menu').first().stop(true, true).slideDown();\r\n});\r\n\r\n// ADD SLIDEUP ANIMATION TO DROPDOWN-MENU\r\n$('#alert_notificatoin_bar.dropdown').on('hide.bs.dropdown', function(e){\r\n    markAsRead();\r\n    $(this).find('.dropdown-menu').first().stop(true, true).slideUp();\r\n\r\n});\r\n\r\nfunction markAsRead()\r\n{\r\n   console.log('we are inside');\r\n   $.ajax({\r\n        url: '/notifications',\r\n        type: \"post\",\r\n        data:{'_token':_token},\r\n        success: function(data){\r\n\r\n                // tout a marché comme sur des roulettes.\r\n                $(\"#notif-toggle\").html(data);\r\n                //alert(data);\r\n        },\r\n        error : function (data) {\r\n            console.log(\"Erreur lors de la validation. \");\r\n        }\r\n    })\r\n}\r\n\r\nfunction ReloadNotifications()\r\n{\r\n    //alert('we are inside');\r\n    $.ajax({\r\n        url: '/updatenotifications',\r\n        type: \"post\",\r\n        dataType: 'html',\r\n        data:{'_token':_token},\r\n        success: function(data){\r\n\r\n            // tout a marché comme sur des roulettes.\r\n            $(\"#alert_notificatoin_bar\").html(data);\r\n        },\r\n        error : function (data) {\r\n            console.log(\"Erreur lors de la validation.\");\r\n        }\r\n    })\r\n}\r\n\r\n$(document).ready(function(){\r\n    _token = $('input[name=_token]').val();\r\n    $('table tr.clickable-row').click(function(){\r\n        markAsRead();\r\n        window.location = $(this).attr('data-href');\r\n        return false;\r\n    });\r\n});\r\n\r\n\r\n/*\r\nAjouté par le yobiyork\r\n */\r\n\r\n\r\n$(document).ready( function () {\r\n    // Add return on top button\r\n    $('body').append('<div id=\"returnOnTop\" title=\"Retour en haut\">&nbsp;</div>');\r\n\r\n    //$('.btn').addClass('disabled');\r\n\r\n    // On button click, let's scroll up to top\r\n    $('#returnOnTop').click( function() {\r\n        $('html,body').animate({scrollTop: 0}, 'slow');\r\n    });\r\n    $('.btn').removeClass('disabled');\r\n\r\n    $('.wrapper').css('margin-top', $('.header').css('height'));\r\n    $('ul.sidebar-menu').css('margin-top', $('.header').css('height'));\r\n\r\n});\r\n\r\n\r\n\r\n\r\n\r\n$(window).scroll(function() {\r\n    // If on top fade the bouton out, else fade it in\r\n    if ( $(window).scrollTop() == 0 )\r\n        $('#returnOnTop').fadeOut();\r\n    else\r\n        $('#returnOnTop').fadeIn();\r\n});\r\n\r\n\r\nretractAsideEffectClick = function(){\r\n    $('#sidebar').css('display', 'none');\r\n    $('#sidebar').css('left', '-250px');\r\n    $('#main-content').css('margin-left', '0px');\r\n};\r\n\r\nexpandAsideEffectClick = function(){\r\n    $('#sidebar').css('display', 'block');\r\n    $('#sidebar').css('left', '0px');\r\n    $('#main-content').css('margin-left', '250px');\r\n\r\n};\r\n\r\nslideLeft = function(selectorElement, pixel){\r\n    $(selectorElement).animate({'margin-right': pixel}, 400, function(){$(selectorElement).css('display', 'none')});\r\n};\r\n\r\nslideLeftFixed = function(selectorElement, value){\r\n    $(selectorElement).animate({'margin': value}, 400);\r\n};\r\n\r\n\r\n/*\r\n * Actions performed after a click on the menu item\r\n */\r\n\r\n$('#accueil').click(function(){\r\n    window.location.href = '/accueil';\r\n\r\n});\r\n\r\n$('#groupes').click(function(){\r\n    window.location.href = '/group';\r\n\r\n});\r\n\r\n$('#annuaire').click(function(){\r\n\r\n    window.location.href = '/annuaire';\r\n\r\n\r\n});\r\n\r\n$('#bibliotheque').click(function(){\r\n    window.location.href = '/filemanager?type=file';\r\n\r\n});\r\n\r\n$('#comptabilite').click(function(){\r\nif(compta == false)\r\n{\r\n    window.location.href = '/contrib_user/'+userId;\r\n}\r\nelse\r\n{\r\n    window.location.href = '/comptabilite';\r\n}\r\n});\r\n\r\n$('#administration').click(function(){\r\n    window.location.href = '/admin';\r\n});\r\n\r\n\r\n$('#logo_home').click(function(){\r\n    window.location.href = \"https://promotvogt.org\";\r\n});\r\n\r\n/**\r\n * Actions performed after a click on logout link\r\n *\r\n */\r\n\r\n$('#accueil_tog').click(function(){\r\n    window.location.href = '/accueil';\r\n\r\n});\r\n\r\n$('#groupes_tog').click(function(){\r\n    window.location.href = '/group';\r\n\r\n});\r\n\r\n$('#annuaire_tog').click(function(){\r\n\r\n    window.location.href = '/annuaire';\r\n\r\n\r\n});\r\n\r\n$('#bibliotheque_tog').click(function(){\r\n    window.location.href = '/filemanager?type=file';\r\n\r\n});\r\n\r\n$('#comptabilite_tog').click(function(){\r\n    if(compta == false)\r\n    {\r\n        window.location.href = '/contrib_user/'+userId;\r\n    }\r\n    else\r\n    {\r\n        window.location.href = '/comptabilite';\r\n    }\r\n});\r\n\r\n$('#administration_tog').click(function(){\r\n    window.location.href = '/admin';\r\n});\r\n\r\n$('#notifications_tog').click(function(){\r\n    window.location.href = '/notifications';\r\n});\r\n\r\n\r\n\r\n$('#logout-link').click(function(event){\r\n    event.preventDefault();\r\n    event.returnValue = false;\r\n    $('#logout-form').submit();\r\n});\r\n\r\n\r\n\r\n\r\n$('.toggle-nav').off();\r\n\r\n\r\n$(\".toggle-menus\").click(function(e) {\r\n    e.preventDefault();\r\n    $(\".navs\").toggle();\r\n});\r\n\r\n\r\n/*********One Signal********/\r\nfunction PromotOneSignal (playerId) {\r\n\r\n    $.ajaxSetup(\r\n        {\r\n            headers:\r\n                {\r\n                    'X-CSRF-Token': $('input[name=\"_token\"]').val()\r\n                }\r\n        });\r\n\r\n    $.ajax({\r\n        url: '/oneSignal',\r\n        type: 'post',\r\n        //contentType: false, // obligatoire pour de l'upload\r\n        //processData: false, // obligatoire pour de l'upload,\r\n        //dataType : 'json',\r\n        data: {'_token':_token, userId: playerId},\r\n        success: function (response) {\r\n            console.log('response :' +response)\r\n        },\r\n        error : function (erreur) {\r\n            console.log('erreur :' +erreur)\r\n        }\r\n    });\r\n}\r\n\r\n/*********End One Signal********/\r\n\r\n\r\n"]}